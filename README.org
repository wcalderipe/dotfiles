#+OPTIONS: html-style:nil html-postamble:nil num:nil broken-links:t
#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="resources/org.css"/>

* dotfiles

[[https://github.com/wcalderipe/dotfiles/workflows/CI/badge.svg]]

[[resources/screenshot-emacs.png]]

** DONE Everything must have a purpose
    CLOSED: [2020-07-28 mar. 20:30]

    If I don't know why it's there it will be removed. I normally tend to
    forget things in the long run, so documentation here will be the key.

** TODO Isolation

    Sometimes Ansible roles have internal dependencies, for instance,
    emacs task also install packages system dependencies. These tasks are
    tagged with =deps= and you can skip them with the following command:

    #+BEGIN_SRC shell
      $ ansible-playbook \
        --inventory ./ansible/hosts \
        --tags "emacs" \
        --skip-tags "deps" \
        ./ansible/main.yml
    #+END_SRC

    It's not only about dependencies, but it's also a matter of keep
    everything needed to make something to work as near as possible from
    each other. For example, I don't want to track scattered
    configurations to make a software work -- I want them grouped by
    purpose. Once achieved, I'll be able to add new software and delete
    existing ones without fear of breaking something or left overs in my
    system -- experimenting is the ultimate goal.

** DONE Testability
    CLOSED: [2020-07-28 mar. 20:32]

    I'd like to run my dotfiles in a docker container from time to time so
    I can do some manual test and therefore have a minimal level of
    confidence that I won't fuck everything on my local environment.

    The driver that justify this effort is continuous improvement on my
    workflow.

    #+BEGIN_SRC shell
      docker build --tag dotfiles .

      docker run -it \
             --volume ~/dev/dotfiles/ansible:/home/tester/dev/dotfiles/ansible \
             dotfiles
    #+END_SRC

** DONE Increase the automation level
    CLOSED: [2020-07-28 mar. 20:32]

    After push the button, it must have zero human interaction until
    everything is done.

** Emacs Tabs

   I normally have multiple projects open at the same time in Emacs and I like
   to have them separated by workspace. For that, I have been using [[https://depp.brause.cc/eyebrowse/][eyebrowse]]
   with [[https://github.com/abo-abo/hydra][hydra]].

   Hit =C-c + t= to see the menu.

** Org

*** Styled HTML exports

    I often share thoughts and ideas with other people in my daily basis. For
    that I like to export my Org notes to HTML and then PDF. Thus, I created a
    minimal stylesheet that mimics GitHub's Markdown styles for the features I
    use most in Org. See [[resources/org.css][org.css]].

    Add the snippet below to include the styles in a Org file.

    #+begin_src org
      ,#+OPTIONS: html-style:nil html-postamble:nil num:nil
      ,#+HTML_HEAD: <link rel="stylesheet" type="text/css" href="__REPLACE_ME_WITH REAL_LINK__"/>
    #+end_src

**** TODO Find a proper place to host the org.css file

     GitHub pages might be a good candidate.

** PDF Operations

   To convert HTML to PDF I use [[https://wkhtmltopdf.org/][wkhtmltopdf]].

   #+begin_src shell
     wkhtmltopdf SOURCE.html TARGET.pdf
   #+end_src

** Tasks

*** TODO look at spacemacs js and ts config

    https://github.com/syl20bnr/spacemacs/blob/master/layers/%2Blang/javascript/packages.el

*** TODO move recent functions to the top on M-x :emacs:
*** TODO unable to resolve links in org-mode dispatch export :emacs:

    See https://github.com/syl20bnr/spacemacs/issues/8054#issuecomment-271158526

*** TODO fix invalid face attribute :family nil :emacs:
*** TODO add locked straight packages in the version control :emacs:
*** TODO open file in another window when on magit screen :emacs:
